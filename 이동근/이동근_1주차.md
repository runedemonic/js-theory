# 내 맘대로 적는 JS 정리(2.1 ~ 2.8)



## 2.1 Hello, world!

### 스크립트를 별도의 파일로써 작성하면 얻는 이점

* 스크립트를 별도의 파일에 작성하면 브라우저가 스크립트를 다운받아 [캐시(cache)](https://en.wikipedia.org/wiki/Web_cache)에 저장

* 여러 페이지에서 동일한 스크립트를 사용하는 경우, 
브라우저는 페이지가 바뀔 때마다 스크립트를 새로 다운받지 않고 캐시로부터 스크립트를 가져와 사용
즉, 스크립트 파일을 한 번만 다운받는다.

* 이를 통해 트래픽 절약, 웹 페이지의 실제 속도 상승

<br>

### `src` **속성이 있으면 태그 내부의 코드는 무시**

* ```<script>``` 태그는 src 속성과 내부 코드를 동시에 가지지 못함

<br>

## 2.2 코드 구조

### 문(statement)

* **프로그램을 구성하는 기본 단위이자 최소 실행 단위**
* 문의 집합으로 이뤄진 것이 **프로그램**
* 토큰
  * 문법적인 의미를 내포
  * **문법적으로 더 이상 나눌 수 없는 코드의 기본 요소**
  * ex) 키워드, 식별자, 연산자, 리터럴, 세미콜론, 마침표, etc...
* (이 부분은 모던 자바스크립트 Deep Dive 를 참조)

<br>

### 세미콜론

* 줄 바꿈이 있으면 세미콜론 생략 가능, '암시적' 세미콜론으로 해석(=세미콜론 자동 삽입)

* ```대부분```의 경우 줄 바꿈이 세미콜론을 의미, 항상은 아님

  * ex)

    ```javascript
    // 에러가 발생함
    alert("에러가 발생합니다.")
    
    [1, 2].forEach(alert)
    
    // 제대로 동작함
    alert("제대로 동작합니다.");
    
    [1, 2].forEach(alert)
    ```

* 따라서 세미콜론을 삽입해서 코드 작성하는 것을 권장

<br>

### 주석

* C와 같이 ```/* */``` 사이에 ```/* */``` 불가능
* ```/* */``` 사이에 ```//``` 는 가능

<br>

## 2.3 엄격 모드

### use strict

* ES5 에 새롭게 제정된 기능이 추가 -> 기존 기능이 일부 변경됨 -> 하위 호환성 문제 발생 ->
  변경사항 대부분은 ES5 기본 모드에선 비활성화가 default ->  활성화는 ```use strict``` 를 사용

* 스크립트 최상단에 오면 "엄격 모드" 가 활성화된다. 그게 아니면 비활성화
* 활성화되면 취소는 못함

<br>

### 브라우저 콘솔에서의 엄격 모드

* default 는 적용이 안되어있음

* 적용하는 법

  ```javascript
  // 브라우저 콘솔에서의 환경
  'use strict'; <Shift+Enter를 눌러 줄 바꿈 함>
  //  ...테스트하려는 코드 입력
  <Enter를 눌러 실행>
  ```

<br>

### 굳이 써야하나?

* **코드를 클래스와 모듈을 사용해 구성한다면** 자동으로 적용됨
* 따라서 위 두 개를 사용하면 쓸 필요는 없음

<br>

## 2.4 변수 상수

### 변수

* 변수 선언

  * ```javascript
    let user = 'John', age = 25, message = 'Hello';
    ```

  * ```javascript
    let user = 'John',
      age = 25,
      message = 'Hello';
    ```

* 변수 명명 규칙

  * 첫 글자는 숫자 X
  * 오직 문자와 숫자, 그리고 기호 `$`와 `_`만
  * 대소문자 구별
  * 예약어 금지

* 표기법은 보통 카멜케이스(myVeryLongName)

<br>
  
### 상수

* 상수 네이밍
  * 런타임 전에 알 수 있는 것들은 대문자 상수를 사용
  * 런타임 때 알 수 있는 것들은 카멜케이스를 따르는 네이밍을 사용



### 네이밍

* 사람이 읽을 수 있는 이름을 사용(userName, shoppingCart)
* 줄임말이나 `a`, `b`, `c`와 같은 짧은 이름 지양
* 최대한 서술적이고 간결하게 명명, `data`와 `value`는 나쁜 이름의 예시
* 자신만의 규칙이나 소속된 팀의 규칙을 따르는 것이 좋음

<br>

### 변수 재사용 또는 생성

* 변수를 추가하는 것은 좋은 습관
* 변수를 재사용하면 변수 선언에 노력을 덜 수 있지만, 디버깅에 열 배 더 많은 시간 사용 필요

<br>

## 2.5 자료형

### 동적 타입 언어

* 여덟 가지 자료형이 존재

* 변수는 자료형 관계 없이 모든 데이터일 수 있음

  * ```javascript
    // no error
    let message = "hello";
    message = 123456;
    ```

* 위 예시처럼 자료의 타입은 있지만 변수에 저장되는 값의 타입은 
  언제든지 바꿀 수 있는 언어를 ‘동적 타입(dynamically typed)’ 언어라고 부름

<br>

### 숫자형

* 정수 및 부동소수점 숫자(floating point number)를 나타냄

* 일반적인 숫자 외에 `Infinity`, `-Infinity`, `NaN`같은 '특수 숫자 값' 이 포함됨
  * NaN : 계산 중에 에러가 발생했다는 것을 나타내주는 값

* 말이 안 되는 수학 연산을 하더라도  `NaN`을 반환하며 연산이 종료됨
*  `-(2^53-1)` <= 값 <=`(2^53-1)`(`9007199254740991`) 

<br>

### BigInt

* 표준으로 채택된 지 얼마 안 된 자료형
* 길이에 상관없이 정수를 나타낼 수 있음
* 정수 리터럴 끝에 `n`을 붙이면 만들 수 있음
* Firefox, Chrome, Edge, Safari에서만 지원

<br>

### 문자형

* 종류
  1. 큰따옴표: `"Hello"`
  2. 작은따옴표: `'Hello'`
  3. 역 따옴표(백틱, backtick): ``Hello``
* 템플릿 리터럴에 사용되는 백틱에 ${...} 안에는 변수 또는 표현식이 들어갈 수 있음

<br>

### 불린형

* `true`와 `false` 두 가지 값밖에 없는 자료형

<br>

### null 값

* `null` 값은 오로지 `null` 값만 포함하는 별도의 자료형을 만듬
* 자바스크립트에서 `null` :
  * ‘존재하지 않는(nothing)’ 값,
  * ‘비어 있는(empty)’ 값,
  * ‘알 수 없는(unknown)’ 값을 나타내는 데 사용
* 다른 언어에서  `null`을 '존재하지 않는 객체에 대한 참조’나 '널 포인터(null pointer)'를 나타낼 때 사용

<br>

### undefined 값

*  `null` 값처럼 자신만의 자료형을 형성
* '값이 할당되지 않은 상태’를 나타낼 때 사용
* 변수는 선언했지만, 값을 할당하지 않았다면 해당 변수에 `undefined`가 자동으로 할당
* `undefined`를 명시적으로 할당하는 것도 가능
* 하지만 명시적으로 사용할 경우 `null` 사용 권장

<br>

### 객체와 심볼

* 객체형
  * 데이터 컬렉션이나 복잡한 개체(entity)를 표현
* 심볼형
  * 객체의 고유한 식별자(unique identifier)를 만들 때 사용

<br>

### typeof 연산자

* 인수의 자료형을 반환

* 두 가지 형태의 문법을 지원

  * 연산자: `typeof x`
  * 함수: `typeof(x)`
  * 괄호가 있든 없든 결과가 동일

* 예시

  * ```javascript
    typeof undefined // "undefined"
    
    typeof 0 // "number"
    
    typeof 10n // "bigint"
    
    typeof true // "boolean"
    
    typeof "foo" // "string"
    
    typeof Symbol("id") // "symbol"
    
    typeof Math // "object"  (1)
    
    typeof null // "object"  (2)
    
    typeof alert // "function"  (3)
    ```

  * `Math`는 수학 연산을 제공하는 내장 객체이므로 `"object"`가 출력

  * `typeof null`의 결과는 ``"object"``

    * `null`은 별도의 고유한 자료형을 가지는 특수 값으로 객체가 아님
    * 하위 호환성을 유지하기 위해 이런 오류를 수정하지 않고 남겨둔 상황
    * 언어 자체의 오류임
  
  * 피연산자가 함수면 `"function"`을 반환 따라서 `typeof alert`는 `"function"`을 출력
  
    * 함수는 객체형에 속함. 
    * 이런 동작 방식은 아주 오래전에 만들어진 규칙이었기 때문
    * 따라서 하위 호환성 유지를 위해 남겨진 상태

<br>

## 2.6 alert, prompt, confirm을 이용한 상호작용

### alert

* 호출 시, 사용자가 ‘확인(OK)’ 버튼을 누를 때까지 메시지를 보여주는 창이 계속 떠있음
* 모달
  * 메시지가 있는 작은 창
  * '모달’이란 단어엔 페이지의 나머지 부분과 상호 작용이 불가능하다는 의미가 내포
  * 따라서 사용자는 모달 창 바깥에 있는 버튼을 누른다든가 하는 행동을 할 수 없음
  * 확인 누르기 전까지는.

<br>

### prompt

* 브라우저에서 제공하는 `prompt` 함수는 두 개의 인수를 받음

* 예시

  * ```javascript
    result = prompt(title, [default]);
    ```

  * 텍스트 메시지와 입력 필드(input field), 확인(OK) 및 취소(Cancel) 버튼이 있는 모달 창을 띄워줌

  * title - 사용자에게 보여줄 문자열

  * default = 입력 필드의 초깃값(선택값)

  * **인수를 감싸는 대괄호 `[...]`의 의미**

    `default`를 감싸는 대괄호는 이 매개변수가 필수가 아닌 선택값이라는 것을 의미

* 사용자가 입력 필드에 기재한 문자열을 반환 

* 사용자가 입력을 취소한 경우는 `null`이 반환

<br>

### confirm

* 예시

  * ```javascript
    result = confirm(question);

* 매개변수로 받은 `question(질문)`과 확인 및 취소 버튼이 있는 모달 창을 보여줌

* 사용자가 확인 버튼을 누르면 `true`, 그 외의 경우는 `false`를 반환

<br>

## 2.7 형 변환(원시형만 다룸 일단)

### 문자형으로 형 변환

* `alert(value)`에서 value는 문자형

* 만약, 다른 형의 값을 전달받으면 이 값은 문자형으로 자동 변환됨

* `String(value)` 함수를 호출해 전달받은 값을 문자열로 변환

* 예시

  * ```javascript
    let value = true;
    alert(typeof value); // boolean
    
    value = String(value); // 변수 value엔 문자열 "true"가 저장됩니다.
    alert(typeof value); // string
    ```

<br>

### 숫자형으로 변환

* 수학과 관련된 함수와 표현식에서 자동으로 일어남

  * 예시

    * ```javascript
      alert( "6" / "2" ); // 3, 문자열이 숫자형으로 자동변환된 후 연산이 수행
      ```

* `Number(value)` 함수를 사용하면 주어진 값(`value`)을 숫자형으로 명시해서 변환

  * 예시

    * ```javascript
      let str = "123";
      alert(typeof str); // string
      
      let num = Number(str); // 문자열 "123"이 숫자 123으로 변환됩니다.
      
      alert(typeof num); // number
      ```

* 숫자 이외의 글자가 들어가 있는 문자열을 숫자형으로 변환 시, 그 결과는 `NaN`

  * 예시

    * ```javascript
      let age = Number("임의의 문자열 123");
      
      alert(age); // NaN, 형 변환이 실패합니다.
      ```

* 숫자형으로 변환 시 적용되는 규칙

  * | 전달받은 값      | 형 변환 후                                                   |
    | :--------------- | :----------------------------------------------------------- |
    | `undefined`      | `NaN`                                                        |
    | `null`           | `0`                                                          |
    | `true and false` | `1` 과 `0`                                                   |
    | `string`         | 문자열의 처음과 끝 공백 제거. 제거 후 남아있는 문자열이 없다면 `0`, 그렇지 않다면 문자열에서 숫자를 읽음. 변환 실패 시 `NaN`이 됨. |

  * 예시

    * ```javascript
      alert( Number("   123   ") ); // 123
      alert( Number("123z") );      // NaN ("z"를 숫자로 변환하는 데 실패함)
      alert( Number(true) );        // 1
      alert( Number(false) );       // 0

* 특이 결과
  * `null`은 `0`이 되고 `undefined`는 `NaN`이 됨

<br>

### 불린형으로 변환

* `Boolean(value)`를 호출하면 명시적으로 불리언으로의 형 변환을 수행

* 숫자 `0`, 빈 문자열, `null`, `undefined`, `NaN` 같이 직관적으로 “비어있다고” 느껴지는 값들은 `false`

* 그 외의 값은 `true`로 변환

* 자바스크립트에선 비어 있지 않은 문자열은 언제나 `true`

* 예시

  * ```javascript
    alert( Boolean(1) ); // 숫자 1(true)
    alert( Boolean(0) ); // 숫자 0(false)
    
    alert( Boolean("hello") ); // 문자열(true)
    alert( Boolean("") ); // 빈 문자열(false)
    ```

  * ```javascript
    alert( Boolean("0") ); // true
    alert( Boolean(" ") ); // 공백이 있는 문자열도 비어있지 않은 문자열이므로 true로 변환
    ```

<br>

## 2.8 기본 연산자

### 거듭제곱 연산자

* 거듭제곱 연산자는 정수가 아닌 숫자에 대해서도 동작

  * 예시

    * ```javascript
      alert( 4 ** (1/2) ); // 2 (1/2 거듭제곱은 제곱근)
      alert( 8 ** (1/3) ); // 2 (1/3 거듭제곱은 세제곱근)
      ```

<br>

### 이항 연산자 - '+'

* 이항 연산자 `+`를 사용할 때, 피연산자 중 하나가 문자열이면 다른 하나도 문자열로 변환

  * 예시

    * ```javascript
      alert( '1' + 2 ); // "12"
      alert( 2 + '1' ); // "21"
      ```

<br>

### 이항 연산자 - '-', '/'

* 예시

  * ```javascript
    alert( 6 - '2' ); // 4, '2'를 숫자로 바꾼 후 연산이 진행
    alert( '6' / '2' ); // 3, 두 피연산자가 숫자로 바뀐 후 연산이 진행
    ```

<br>

### 단항 연산자 - '+'

* 피연산자가 숫자가 아닌 경우엔 숫자형으로 변환

  * 예시

    * ```javascript
      // 숫자에는 아무런 영향 X
      let x = 1;
      alert( +x ); // 1
      
      let y = -2;
      alert( +y ); // -2
      
      // 숫자형이 아닌 피연산자는 숫자형으로 변화
      alert( +true ); // 1
      alert( +"" );   // 0
      ```

* Number() 함수보다 짧게 만들 수 있음

  * 예시

    * ```javascript
      let apples = "2";
      let oranges = "3";
      
      // 이항 덧셈 연산자가 적용되기 전에, 두 피연산자는 숫자형으로 변화
      alert( +apples + +oranges ); // 5
      ```

<br>

### 연산자 우선순위

* 표

    * | 순위 | 연산자 이름 | 기호 |
      | :--- | :---------- | :--- |
      | …    | …           | …    |
      | 17   | 단항 덧셈   | `+`  |
      | 17   | 단항 부정   | `-`  |
      | 16   | 지수        | `**` |
      | 15   | 곱셈        | `*`  |
      | 15   | 나눗셈      | `/`  |
      | 13   | 덧셈        | `+`  |
      | 13   | 뺄셈        | `-`  |
      | …    | …           | …    |
      | 3    | 할당        | `=`  |
      | …    | …           | …    |

<br>

### 할당 연산자

* `=` 역시 값을 반환

* 좌측 피연산자의 값을 반환

  * 예시

    * ```javascript
      let a = 1;
      let b = 2;
      
      let c = 3 - (a = b + 1);
      
      alert( a ); // 3
      alert( c ); // 0
      ```

* 체이닝(여러 개 연결)

  * 예시

    * ```javascript
      let a, b, c;
      
      a = b = c = 2 + 2;
      
      alert( a ); // 4
      alert( b ); // 4
      alert( c ); // 4
      ```

<br>

### 증가 / 감소 연산자

* C언어의 전위 후위 증감 감소와 똑같음

* 예시

  * ```javascript
    let counter = 2;
    counter++;      // counter = counter + 1과 동일하게 동작
    alert( counter ); // 3
    
    let counter = 2;
    counter--;      // counter = counter - 1과 동일하게 동작
    alert( counter ); // 1
    ```

<br>

### 비트 연산자

* 비트 AND ( `&` )
* 비트 OR ( `|` )
* 비트 XOR ( `^` )
* 비트 NOT ( `~` )
* 왼쪽 시프트(LEFT SHIFT) ( `<<` )
* 오른쪽 시프트(RIGHT SHIFT) ( `>>` )
* 부호 없는 오른쪽 시프트(ZERO-FILL RIGHT SHIFT) ( `>>>` )
* C언어랑 같음

<br>

### 쉼표 연산자

* 여러 표현식을 코드 한 줄에서 평가

* 우선순위가 굉장히 낮은 연산자임

* 마지막 표현식의 평가 결과만 반환되는 점에 유의

  * 예시

    * ```javascript
      let a = (1 + 2, 3 + 4);
      
      alert( a ); // 7 (3 + 4의 결과)
      ```

<br>
